@using AutoRest.Core.Model
@using AutoRest.CSharp.vanilla.Templates.Rest.Client
@inherits AutoRest.Core.Template<AutoRest.CSharp.Model.MethodCs>

[Obsolete]
@(Model.AccessModifier) @(Model.OperationResponseReturnTypeString) @(Model.CorrectedName)(@(Model.GetAsyncMethodParameterDeclaration(false)))
{
	return @(Model.CorrectedName)Wrapper(@(Model.GetAsyncMethodInvocationArgs())).Result;
}
@EmptyLine
private async System.Threading.Tasks.Task<@(Model.OperationResponseReturnTypeString)> @(Model.CorrectedName)Wrapper(@(Model.GetAsyncMethodParameterDeclaration(false)))
{
	await new SynchronizationContextRemover();
	return await @(Model.CorrectedName)Async(@(Model.GetAsyncMethodInvocationArgs()));
}
@EmptyLine
@(Model.AccessModifier) async System.Threading.Tasks.Task<@(Model.OperationResponseReturnTypeString)> @(Model.CorrectedName)Async(@(Model.GetAsyncMethodParameterDeclaration(false)))
{
	@switch (Model.Flavor)
	{
		case MethodFlavor.RestCall:
			@:@(Include(new MethodBodyTemplateRestCall(), Model))
			break;
		case MethodFlavor.ForwardTo:
			@:@(Include(new MethodBodyTemplateForwardTo(), Model))
			break;
		case MethodFlavor.Implementation:
			@:@(Model.GetImplementation("csharp") ?? "throw new System.NotImplementedException();")
			break;
		default:
			throw new System.NotImplementedException();
	}
}
